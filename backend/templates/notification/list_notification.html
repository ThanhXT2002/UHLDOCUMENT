{% extends 'base.html' %} {% load static %} {% block main-content%}

{% include 'component/breadcrumb.html' with title=title %}

<div class="wrapper wrapper-content  fadeInRight">
    <div class="row">
        <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5 class="text-uppercase">Danh sách thông báo</h5>
                
                <div class="ibox-tools">
                    
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-wrench"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a class="changeStatusAll" data-value="2"  data-field ="status" data-model='' >Active toàn bộ</a>
                        </li>
                        <li><a class="changeStatusAll" data-value="1" data-field ="status" data-model='' >Unactive toàn bộ</a>
                        </li>
                    </ul>
                    <a class="close-link">
                        <i class="fa fa-times"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">
                <table class="table table-bordered dataTables-example">
                    <thead>
                        <tr>
                           
                            <th>Tiêu đề </th>
                            <th>Ngày bắt đầu</th>
                            <th>Ngày kết thúc</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for notification in notifications %}
                            <tr>
                                <td> <a class="link-message" href="{% url 'notification' notification_url=notification.url %}">{{ notification.title }} </a></td>
                                <td> {{ notification.start_date }}</td>
                                <td> {{ notification.end_date }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script>
    // Sử dụng jQuery để theo dõi sự kiện thay đổi của dropdown
    $('#statusDropdown').change(function() {
        // Tự động gửi yêu cầu lọc khi có sự thay đổi
        $('#filterForm').submit();
    });
</script>
{% endblock main-content%}